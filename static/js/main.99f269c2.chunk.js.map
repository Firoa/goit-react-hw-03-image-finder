{"version":3,"sources":["components/Modal/Modal.module.css","components/App/App.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","services/services.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/ErrorNotifacator/ErrorNotifacator.js","components/Modal/Modal.js","components/App/App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","searchStr","handleChange","target","name","value","setState","handlerReset","handeleSubmit","e","preventDefault","props","onSearchSubmit","this","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","CustomLoader","isActive","loader","color","height","width","timeout","baseUrl","key","fetchImgWithQuery","query","a","pageNumber","pagination","axios","get","response","data","hits","ImageGalleryItem","previewURL","tag","openModalOnClick","onClick","src","alt","ImageGalleryItemImage","ImageGallery","items","openModal","IG","map","item","webformatURL","uuidv4","id","Button","handleClick","ErrorNotificator","text","Modal","backdropRef","createRef","handleClose","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","Overlay","ref","largeURL","App","page","img","isLoading","error","isOpen","modalUrl","handleModalOpen","largeImageURL","find","handleModalClose","handlerSearch","addMore","prevState","ScroleFunc","scrollTo","top","document","documentElement","scrollHeight","behavior","then","catch","finally","prevProps","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.99f269c2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__rs7Z3\",\"Modal\":\"Modal_Modal__30nJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1PK2y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1RCTn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"IG\":\"ImageGallery_IG__1hNrJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__hT2lH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2DCHB\",\"SearchForm\":\"Searchbar_SearchForm__3Yy55\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2mmbJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3sIzC\",\"SearchFormInput\":\"Searchbar_SearchFormInput__SDLnb\"};","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchStr: '',\r\n  };\r\n\r\n  handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handlerReset = () => {\r\n    this.setState({ searchStr: '' });\r\n  };\r\n\r\n  handeleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearchSubmit(this.state.searchStr);\r\n    this.handlerReset();\r\n  };\r\n\r\n  render() {\r\n    const { searchStr } = this.state;\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handeleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={searchStr}\r\n            name=\"searchStr\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst CustomLoader = ({ isActive }) => {\r\n  return (\r\n    isActive && (\r\n      <div className={styles.loader}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000} //3 secs\r\n        />\r\n      </div>\r\n    )\r\n  );\r\n};\r\n\r\nCustomLoader.propTypes = {\r\n  isActive: PropTypes.bool.isRequired,\r\n};\r\nexport default CustomLoader;\r\n","import axios from 'axios';\r\nconst baseUrl = 'https://pixabay.com/api/';\r\nconst key = '16009897-4c38efcfe1bde2f5cf5e4fbad';\r\nconst fetchImgWithQuery = async (query, pageNumber = 1,pagination = 12) => {\r\n  const response = await axios\r\n        .get(`${baseUrl}?q=${query}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=${pagination}`);\r\n    return response.data.hits;\r\n};\r\n\r\nexport default fetchImgWithQuery;\r\n","import React from 'react';\r\nimport styles from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst ImageGalleryItem = ({ previewURL, tag, openModalOnClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem} onClick={openModalOnClick}>\r\n      <img\r\n        src={previewURL}\r\n        alt={tag}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  previewURL: PropTypes.string.isRequired,\r\n  tag: PropTypes.string.isRequired,\r\n  openModalOnClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nconst ImageGallery = ({ items, openModal }) => (\r\n  <ul className={styles.IG}>\r\n    {items.map(item => (\r\n      <ImageGalleryItem\r\n        previewURL={item.webformatURL}\r\n        tag={item.tag}\r\n        key={uuidv4()}\r\n        openModalOnClick={() => openModal(item.id)}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  items: PropTypes.object.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst Button = ({ handleClick }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nconst ErrorNotificator = ({ text }) => <h2>Something Go Wrong: {text}</h2>;\r\n\r\nErrorNotificator.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\nexport default ErrorNotificator;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nclass Modal extends Component {\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleClose);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleClose);\r\n  }\r\n\r\n  handleClose = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n  handleBackdropClick = e => {\r\n    const { current } = this.backdropRef;\r\n    if (current && e.target !== current) return;\r\n    this.props.onClose();\r\n  };\r\n  render() {   \r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.largeURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from '../Searchbar/Searchbar';\nimport CustomLoader from '../Loader/Loader';\nimport fetchImgWithQuery from '../../services/services';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport ErrorNotificator from '../ErrorNotifacator/ErrorNotifacator';\nimport Modal from '../Modal/Modal';\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    img: [],\n    isLoading: false,\n    error: null,\n    isOpen: false,\n    modalUrl: '',\n  };\n\n  handleModalOpen = id => {    \n    const { largeImageURL } = this.state.img.find(item => item.id === id);   \n    this.setState({ modalUrl: largeImageURL });\n    this.setState({ isOpen: true });\n  };\n\n  handleModalClose = () => {\n    this.setState({ isOpen: false });\n  };\n\n  handlerSearch = searchStr => {\n    this.setState({ query: searchStr, page: 1 });\n  };\n\n  addMore = () => {   \n    this.setState({ isLoading: true });\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    fetchImgWithQuery('')\n      .then(img => {\n        this.setState({ img });        \n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.page !== this.state.page ||\n      prevState.query !== this.state.query\n    ) {\n      this.setState({ isLoading: true });      \n      fetchImgWithQuery(this.state.query, this.state.page)\n        .then(img => {\n          prevState.query !== this.state.query\n            ? this.setState({ img: img })\n            : this.setState(prevState => ({ img: [...prevState.img, ...img] }));\n        })\n        .catch(error => this.setState({ error }))\n        .finally(() => {\n          this.setState({ isLoading: false });\n          this.ScroleFunc();\n        });\n    }\n  }\n\n  ScroleFunc = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { img, isLoading, error, isOpen, modalUrl } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSearchSubmit={this.handlerSearch} />\n        {error && <ErrorNotificator text={error.message} />}\n        {isLoading && <CustomLoader isActive={true} />}\n        {img.length > 0 && (\n          <ImageGallery items={img} openModal={this.handleModalOpen} />\n        )}\n        {img.length > 0 && <Button handleClick={this.addMore} />}\n        {isOpen && (\n          <Modal largeURL={modalUrl} onClose={this.handleModalClose} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__F94ae\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1YCYu\"};"],"sourceRoot":""}